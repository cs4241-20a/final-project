(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{198:function(e,t,a){e.exports=a(498)},203:function(e,t,a){},497:function(e,t,a){},498:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(39),i=a.n(s),c=(a(203),a(13)),u=a(14),l=a(19),o=a(16),h=a(17),d=a(509),p=a(511),m=a(20),f=a(15),v=a(10),b=a(5),g=a.n(b),E=a(8),k=a(179),w=a(197),y=a(180),_=a.n(y).a.create({withCredentials:!0,headers:{Accept:"application/json"}}),x=function(e){try{var t=(new Error).stack.split("\n")[2].trim().split(" ")[1];console.error("Error in API.".concat(t,": ").concat(e))}catch(a){console.error("An unexpected error occured in API.\n",e)}},j=new(function(){function e(){Object(c.a)(this,e),this.auth_url="/auth/callback",this.auth_check_url="/auth/check",this.authenticated=!1,this.auth_callbacks=[],this.user=null}return Object(u.a)(e,[{key:"authenticate",value:function(e){var t=this,a={id_token:e};this.get(this.auth_url,{params:a}).then((function(e){200===e.status?t.auth_callback(e.data.user):console.error(e.data)}))}},{key:"check_auth",value:function(){var e=this;this.get(this.auth_check_url).then((function(t){200===t.status&&!1!==t.data.authenticated&&e.auth_callback(t.data)})).catch(x)}},{key:"add_auth_listener",value:function(e){this.authenticated?e(this.user):this.auth_callbacks.push(e)}},{key:"auth_callback",value:function(e){this.user=e,this.authenticated=!0,this.auth_callbacks.forEach((function(t){t(e)}))}},{key:"get",value:function(){var e=Object(E.a)(g.a.mark((function e(t){var a,n=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,_.get(t,a).catch(x);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(E.a)(g.a.mark((function e(t,a){var n,r=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:{},n=Object.assign({headers:{"Content-Type":"application/json"}},n),e.next=4,_.post(t,a,n).catch(x);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(E.a)(g.a.mark((function e(t,a){var n,r=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:{},n=Object.assign({headers:{"Content-Type":"application/json"}},n),e.next=4,_.put(t,a,n).catch(x);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(E.a)(g.a.mark((function e(t){var a,n=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,_.delete(t,a).catch(x);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"pager",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return Object(w.a)(g.a.mark((function r(){var s,i;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s={params:{page:a,limit:n}},r.next=4,Object(k.a)(t.get(e,s));case 4:if(i=r.sent,a++,200==i.status){r.next=9;break}return x(i.data),r.abrupt("return",[]);case 9:if(!(i.data.length<n)){r.next=11;break}return r.abrupt("return",i.data);case 11:return r.next=13,i.data;case 13:r.next=0;break;case 15:case"end":return r.stop()}}),r)})))()}},{key:"get_user",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("/auth/user");case 2:if(!("error"in(t=e.sent))&&200===t.status){e.next=5;break}return e.abrupt("return",void 0);case 5:this.authenticated||this.authenticate(t.data.user);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit_file",value:function(){var e=Object(E.a)(g.a.mark((function e(t,a,n){var r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"multipart/form-data"}},(s=new FormData).append("uploader",t),s.append("title",a),s.append("file",n),e.next=7,this.post("/uploads",s,r).catch(x);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"update_file",value:function(){var e=Object(E.a)(g.a.mark((function e(t,a,n){var r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/uploads/"+t,s={uploader:a,title:n},e.next=4,this.put(r,s).catch(x);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"get_drawing",value:function(){var e=Object(E.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/drawings/"+t,e.next=3,this.get(a).catch(x);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get_carousel",value:function(){var e=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("/drawings/carousel").catch(x);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit_drawing",value:function(){var e=Object(E.a)(g.a.mark((function e(t,a,n){var r,s,i=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>3&&void 0!==i[3]&&i[3],s={artist:t,title:a,canvas_data:n,published:r},e.next=4,this.post("/drawings",s).catch(x);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"update_drawing",value:function(){var e=Object(E.a)(g.a.mark((function e(t,a,n,r,s){var i,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="/drawings/"+t,c={artist:a,title:n,canvas_data:r,published:s},e.next=4,this.put(i,c).catch(x);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}()},{key:"delete_drawing",value:function(){var e=Object(E.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/drawings/"+t,e.next=3,this.delete(a);case 3:if(200==(n=e.sent).status){e.next=7;break}return x(n.data),e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sign_out",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.authenticated){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",this.get("/auth/signout").then((function(e){return 200==e.status&&(t.authenticated=!1,t.user=null,!0)})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete_upload",value:function(){var e=Object(E.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/uploads/"+t,e.next=3,this.delete(a);case 3:if(200==(n=e.sent).status){e.next=7;break}return x(n.data),e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),O=a(510),C=a(501),S=a(502),I=a(186),D=a(115),N=a.n(D),R=a(181),T=a(47);function M(){for(var e=[],t=document.getElementsByTagName("canvas"),a=1;a<t.length;a+=4){var n=document.createElement("canvas");n.height=t[a].height,n.width=t[a].width;var r=n.getContext("2d");r.drawImage(t[a],0,0),r.globalCompositeOperation="destination-over",r.fillStyle="black",r.fillRect(0,0,n.width,n.height),e.push(n.toDataURL("image/png"))}return console.log(e),e}var q=function(e){console.error(e)},L=function(e){var t=e.tokenId;j.authenticate(t)},G=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={title_anim:!1,anim_state:0,authenticated:j.authenticated},e.quote_ref=r.a.createRef(),e.login_button=r.a.createElement(R.GoogleLogin,{clientId:"772498714969-serroucg6ud4ns0038efpc5gdsefgm8d.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:L,onFailure:q,cookiePolicy:"single_host_origin"}),e.on_file_upload=e.on_file_upload.bind(Object(l.a)(e)),e.items=null,e}return Object(u.a)(a,[{key:"on_file_upload",value:function(e){var t=this;"/user"in this.props.states||(this.props.states["/user"]={}),this.props.states["/user"].selected=e,setTimeout((function(){t.setState({redirect:!0})}),0)}},{key:"componentDidMount",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.add_auth_listener((function(){a.setState({authenticated:!0,car:0})})),j.get_carousel().then((function(e){a.items=e.data.map((function(e,t){return r.a.createElement(T.a,{key:t,saveData:e.canvas_data,hideGrid:!0,disabled:!0,hideInterface:!0,immediateLoading:!0})})),a.setState({carousel_items:e.data,car:1},(function(){setTimeout((function(){var e=M();a.setState({car:2,images:e})}),100)}))})),void 0===(t=this.props.states[this.props.location.pathname])){e.next=6;break}return e.next=6,this.setState(t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get_carousel",value:function(){var e=this;if(null==this.state.images)return null;console.log(this.state.carousel_items);var t=this.state.carousel_items.map((function(t,a){return r.a.createElement(O.a.Item,{key:a},r.a.createElement("img",{className:"carousel-img",src:e.state.images[a],alt:t.title}),r.a.createElement(O.a.Caption,null,r.a.createElement("h3",null,r.a.createElement("i",null,'"',t.title,'"')),r.a.createElement("p",null,r.a.createElement("i",null,"by ",r.a.createElement("strong",null,t.artist)))))}));return r.a.createElement(O.a,null,t)}},{key:"componentWillUnmount",value:function(){var e=this.props.location.pathname;this.props.states[e]=this.state,Object.assign(this.props.states[e],{title_anim:!0,anim_state:2,redirect:!1})}},{key:"render",value:function(){var e=null,t=null,a=null;2!=this.state.car&&(a=this.items),this.state.authenticated||(e=this.login_button),!0===this.state.redirect&&(t=r.a.createElement(v.a,{from:"/",to:"/user"}));var n=this.get_carousel();return r.a.createElement("div",null,r.a.createElement(N.a,null,r.a.createElement("h1",{className:"text-center the-title"},"Drawsome")),r.a.createElement(N.a,null,n),r.a.createElement(C.a,{fluid:!0},r.a.createElement(S.a,{className:"justify-content-md-center"},r.a.createElement(I.a,{id:"login-button",className:"text-center"},e)),t),r.a.createElement("div",{style:{display:"hidden"}},a))}}]),a}(r.a.Component),P=Object(v.g)(G),F=a(503),B=a(187),A=a.n(B),H=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var n;Object(c.a)(this,a),n=t.call(this,e);var r=void 0==e.auth_required||e.auth_required;return n.state={auth_required:r,authenticated:!1,items:[],has_more:!0,is_loading:!0},n.feed_path=e.feed_path,n.ItemRender=n.props.ItemRender,n.generator=j.pager(e.feed_path),n.renderItems=n.renderItems.bind(Object(l.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.add_auth_listener(Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({authenticated:!0});case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"page",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.generator.next();case 2:t=e.sent,a=this.state.items.concat(t.value),this.setState({items:a,has_more:!t.done});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderItem",value:function(e,t){if(!t)return null;var a=this.ItemRender;return r.a.createElement("div",{key:e},r.a.createElement(a,{data:t}))}},{key:"renderItems",value:function(){if(!this.state.items||this.state.items===[])return null;for(var e=this.state.items,t=[],a=0;a<e.length;a++)t.push(this.renderItem(a,e[a]));return t}},{key:"render",value:function(){var e=this,t=null,a=null;return!this.state.authenticated&&this.state.auth_required||(a=this.renderItems(),t=r.a.createElement("div",{id:"feed",style:{height:"100%",overflow:"auto"},ref:function(t){return e.scrollParentRef=t}},r.a.createElement(A.a,{pageStart:1,loadMore:this.page.bind(this),hasMore:this.state.has_more,loader:r.a.createElement("div",{className:"text-center",key:-1},r.a.createElement(F.a,{animation:"border",variant:"dark"})),getScrollParent:function(){return e.scrollParentRef},threshold:10},a))),t}}]),a}(r.a.Component),W=Object(v.g)(H),U=a(196),J=a(507),V=a(505),Y=a(504),$=a(506);function z(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],s=a[1],i=e.id,c=e.title,u=e.delete_callback,l=function(){return s(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{width:"32",height:"32",onClick:function(){return s(!0)},className:"delete-btn"}),r.a.createElement(J.a,{show:n,onHide:l},r.a.createElement(J.a.Header,{closeButton:!0},r.a.createElement(J.a.Title,null,"Drawing Deletion: ",r.a.createElement("strong",null,c))),r.a.createElement(J.a.Body,null,"Are you sure you want to delete this masterpiece? (",c,")"),r.a.createElement(J.a.Footer,null,r.a.createElement(V.a,{variant:"secondary",onClick:l},"No"),r.a.createElement(V.a,{variant:"danger",onClick:function(){s(!1),j.delete_drawing(i).then((function(){u&&u()}))}},"Yes"))))}var K=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var n;Object(c.a)(this,a);var r,s=(n=t.call(this,e)).props.data,i=s.user_id,u=s.artist,o=s.title,h=s.canvas_data,d=s.published,p=s._id;return j.user&&j.user._id&&(r=j.user._id==i),n.state={artist:u,title:o,canvas_data:h,published:d,_id:p,authenticated:!1,owned:r,redirect:!1,deleted:!1},n.on_delete=n.on_delete.bind(Object(l.a)(n)),n}return Object(u.a)(a,[{key:"on_delete",value:function(){this.setState({deleted:!0})}},{key:"componentDidMount",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.add_auth_listener(function(){var e=Object(E.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({authenticated:!0,owned:t.props.data.user_id==a._id});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.canvas.loadSaveData(this.state.canvas_data),this.canvas.loadTimeOffset=100;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.deleted)return null;var t=null,a=null,n=null,s=this.state._id;return this.state.owned&&(t=r.a.createElement($.a,{width:32,height:32,style:{cursor:"pointer"},onClick:function(){e.setState({redirect:!0})}}),a=r.a.createElement(z,{id:this.state._id,title:this.state.title,delete_callback:this.on_delete})),this.state.redirect&&(n=r.a.createElement(v.a,{to:{pathname:"/draw/".concat(s),state:Object.assign(this.state,{redirect:!1})}})),r.a.createElement(C.a,{className:"draw-view-container"},r.a.createElement(S.a,null,r.a.createElement(I.a,{xs:{span:3,offset:4},className:"text-center"},r.a.createElement("h2",null,r.a.createElement("i",null,this.state.title)),r.a.createElement("h5",null,r.a.createElement("i",null,"by ",r.a.createElement("strong",null,this.state.artist)))),r.a.createElement(I.a,{xs:1},t),r.a.createElement(I.a,{xs:1},a)),r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement("div",{className:"draw-view shadow-lg",onMouseEnter:function(){e.canvas.loadSaveData(e.state.canvas_data)}},r.a.createElement(T.a,{ref:function(t){return e.canvas=t},className:"draw-view",hideGrid:!0,disabled:!0,canvasWidth:400,canvasHeight:400,loadTimeOffset:10})))),n)}}]),a}(r.a.Component),Q=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={authenticated:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.add_auth_listener(Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({authenticated:!0});case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(C.a,{fluid:!0},r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement("h1",{id:"title-string"},"My Drawings"))),r.a.createElement(S.a,{className:"justify-content-center"},r.a.createElement(I.a,null,r.a.createElement(W,{feed_path:"/drawings/feed/user",ItemRender:K}))))}}]),a}(r.a.Component),X=Object(v.g)(Q),Z=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={authenticated:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.add_auth_listener(Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({authenticated:!0});case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(C.a,{fluid:!0},r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement("h1",{id:"title-string"},"Art Gallery"))),r.a.createElement(S.a,{className:"justify-content-center"},r.a.createElement(I.a,null,r.a.createElement(W,{auth_required:!1,feed_path:"/drawings/feed/",ItemRender:K}))))}}]),a}(r.a.Component),ee=Object(v.g)(Z),te=a(508),ae=a(193),ne=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={color:"#ff0000",secondColor:"#ff0000",eraser:!1,published:!1,brushRadius:10,appear:!0,redirect:!1},e.location&&e.location.state&&Object.assign(n.state,e.location.state),n.form=r.a.createRef(),n.onFormSubmit=n.onFormSubmit.bind(Object(l.a)(n)),n.handleChange=n.handleChange.bind(Object(l.a)(n)),n.handleChangeComplete=n.handleChangeComplete.bind(Object(l.a)(n)),n.titleInput=r.a.createElement("input",{type:"text",className:"title-input",required:!0,defaultValue:n.state.title,onChange:function(e){n.setState({title:e.target.value})}}),n.artistInput=r.a.createElement("input",{type:"text",className:"artist-input",required:!0,defaultValue:n.state.artist,onChange:function(e){n.setState({artist:e.target.value})}}),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){console.log("hi"),this.state.canvas_data&&(this.saveableCanvas.loadSaveData(this.state.canvas_data),localStorage.setItem("savedDrawing",this.state.canvas_data))}},{key:"componentWillUnmount",value:function(){console.log("bye")}},{key:"handleChangeComplete",value:function(e){this.setState({color:e.hex,secondColor:e.hex})}},{key:"onFormSubmit",value:function(){var e=Object(E.a)(g.a.mark((function e(t){var a,n,r,s,i,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.saveableCanvas.getSaveData(),n=this.state,r=n.artist,s=n.title,i=n.published,this.state._id){e.next=9;break}return e.next=6,j.submit_drawing(r,s,a,i);case 6:c=e.sent,e.next=12;break;case 9:return e.next=11,j.update_drawing(this.state._id,r,s,a,i);case 11:c=e.sent;case 12:if(200==c.status||201==c.status||304==c.status){e.next=15;break}return alert("Request Failed :(\n"+JSON.stringify(c.data)),e.abrupt("return");case 15:this.setState({redirect:!0});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=this;this.setState({published:!this.state.published},(function(){console.log(e.state.published)}))}},{key:"render",value:function(){var e=this,t=null,a="Erase";return this.state.eraser&&(a="Draw"),this.state.redirect&&(t=r.a.createElement(v.a,{to:{pathname:"/user"}})),r.a.createElement(C.a,null,r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement("h1",{id:"title-string"},"Draw"))),r.a.createElement(S.a,null,r.a.createElement(I.a,null),r.a.createElement(I.a,null,r.a.createElement("div",null,r.a.createElement(ae.HuePicker,{color:this.state.color,onChangeComplete:this.handleChangeComplete}))),r.a.createElement(I.a,null),r.a.createElement(I.a,null)),r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement("div",{className:"classNames tools"},r.a.createElement(V.a,{style:{position:"absolute",left:"90px",top:"0px"},onClick:function(){e.setState({eraser:!e.state.eraser},(function(){e.state.eraser?e.setState({color:"#ffffff"}):e.setState({color:e.state.secondColor})}))}},a),r.a.createElement(V.a,{variant:"danger",style:{position:"absolute",left:"-90px",top:"0px"},onClick:function(){e.saveableCanvas.clear()}},"Clear"),r.a.createElement(V.a,{variant:"info",style:{position:"absolute",left:"0px",top:"0px"},onClick:function(){e.saveableCanvas.undo()}},"Undo"),r.a.createElement("div",null,r.a.createElement("div",{className:"text"},"Brush-Radius:"),r.a.createElement("input",{type:"range",min:"1",max:"50",className:"custom-range",value:this.state.brushRadius,onChange:function(t){return e.setState({brushRadius:parseInt(t.target.value,10)})},style:{position:"absolute",left:"-110px",top:"90px"}})),r.a.createElement("div",{className:"saveTitle"},r.a.createElement("h3",null,"Save/Publish Drawing")),r.a.createElement("div",{className:"form-group"},r.a.createElement(te.a,{className:"form-group",ref:this.form,onSubmit:this.onFormSubmit},r.a.createElement("div",{className:"name"},r.a.createElement(te.a.Group,{controlId:"name"},r.a.createElement(te.a.Label,{className:"required"},"Your Name"),this.artistInput)),r.a.createElement("div",{className:"title"},r.a.createElement(te.a.Group,{controlId:"title"},r.a.createElement(te.a.Label,{className:"required"},"Drawing Title"),this.titleInput)),r.a.createElement("div",{className:"submit"},r.a.createElement(te.a.Switch,{checked:this.state.published,onChange:this.handleChange,type:"switch",id:"custom-switch",label:"Publish"})),r.a.createElement(V.a,{variant:"success",type:"submit",style:{position:"absolute",left:"70px",top:"250px"},onClick:function(){localStorage.setItem("savedDrawing",e.saveableCanvas.getSaveData())}},"Save"))))),r.a.createElement(I.a,{className:"text-center"},r.a.createElement(T.a,{className:"shadow-lg draw-canvas",hideGrid:!0,ref:function(t){return e.saveableCanvas=t},brushColor:this.state.color,brushRadius:this.state.brushRadius,canvasHeight:this.state.height,canvasWidth:this.state.width,style:{position:"absolute",left:"-20px",top:"0px"}})),r.a.createElement(I.a,null,r.a.createElement(V.a,{variant:"success",style:{position:"absolute",left:"325px",top:"-50px"},onClick:function(){e.loadableCanvas.loadSaveData(localStorage.getItem("savedDrawing"))}},"Playback of Saved Drawing"),r.a.createElement(T.a,{className:"shadow-lg draw-canvas",hideGrid:!0,disabled:!0,ref:function(t){return e.loadableCanvas=t},saveData:localStorage.getItem("savedDrawing"),style:{position:"absolute",left:"215px",top:"0px"}})),r.a.createElement(I.a,null)),r.a.createElement(S.a,null,t))}}]),a}(r.a.Component),re=(a(496),a(497),Object(m.a)()),se={"/":{},"/user":{},"/uploads":{}},ie=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={authenticated:!1},n.sign_out=n.sign_out.bind(Object(l.a)(n)),n}return Object(u.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){if("authenticated"in t&&t.authenticated!=this.state.authenticated){for(var a=0,n=Object.keys(se);a<n.length;a++){var r=n[a];se[r].authenticated=t.authenticated}return!0}}},{key:"componentDidMount",value:function(){var e=this;j.check_auth(),j.add_auth_listener((function(t){e.setState({authenticated:!0,user_name:t.name})}))}},{key:"sign_out",value:function(){var e=this;j.sign_out().then((function(t){if(!0===t){for(var a=0,n=Object.keys(se);a<n.length;a++){var r=n[a];se[r].authenticated=!1}e.setState({authenticated:!1},(function(){re.replace("/",{authenticated:!1,title_anim:!0,anim_state:2}),window.location.reload()}))}})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=null,t=null,a=null,n=this.state.user_name;if(this.state.authenticated){e=r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,{as:f.b,to:"/user"},"My Drawings"));var s="Signed in as ".concat(n);t=r.a.createElement(p.a.Text,{id:"display-name"},s),a=r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,{onClick:this.sign_out},"Sign Out"))}return r.a.createElement(f.a,{history:re},r.a.createElement(p.a,{bg:"primary",variant:"dark",sticky:"top",expand:"md",animation:"true"},r.a.createElement(p.a.Brand,{as:f.b,to:"/"},"Drawsome"),r.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(p.a.Collapse,null,r.a.createElement(d.a,{className:"mr-auto"},r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,{as:f.b,exact:!0,to:"/"},"Home")),r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,{as:f.b,to:"/draw"},"Draw")),e,r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,{as:f.b,to:"/gallery"},"Gallery")),t,a))),r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/user",render:function(e){return r.a.createElement(X,Object.assign({},e,{states:se}))}}),r.a.createElement(v.b,{path:"/gallery",render:function(e){return r.a.createElement(ee,Object.assign({},e,{states:se}))}}),r.a.createElement(v.b,{path:"/draw",render:function(e){return r.a.createElement(ne,Object.assign({},e,{states:se}))}}),r.a.createElement(v.b,{path:"/",exact:!0,render:function(e){return r.a.createElement(P,Object.assign({},e,{states:se}))}})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[198,1,2]]]);
//# sourceMappingURL=main.53e82f9b.chunk.js.map